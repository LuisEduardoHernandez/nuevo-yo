{"ast":null,"code":"import _regeneratorRuntime from\"/Users/luiseduardohernandezgranillo/Desktop/PROYECTOS/nuevoyo/nuevo-yo/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/luiseduardohernandezgranillo/Desktop/PROYECTOS/nuevoyo/nuevo-yo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/luiseduardohernandezgranillo/Desktop/PROYECTOS/nuevoyo/nuevo-yo/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{getImg}from'../../helpers/getImg';import{API,apiKey}from'../../helpers/getAPI';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var MyShops=function MyShops(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),shops=_useState2[0],setShops=_useState2[1];var getShops=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(API(\"getCardRecord\"),{'headers':{'Access-Control-Allow-Origin':'*','Content-Type':'application/json'},method:\"POST\",body:JSON.stringify({cardnumber:\"6601004280838\",key:apiKey})});case 3:response=_context.sent;if(!(response.status===200)){_context.next=9;break;}_context.next=7;return response.json();case 7:result=_context.sent;setShops(result.balance);case 9:_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 14:case\"end\":return _context.stop();}}},_callee,null,[[0,11]]);}));return function getShops(){return _ref.apply(this,arguments);};}();console.log(shops);useEffect(function(){getShops();},[]);return/*#__PURE__*/_jsx(\"div\",{id:\"nav-shopping\",role:\"tabpanel\",\"aria-labelledby\":\"nav-shopping-tab\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-shop\",children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#443280',fontSize:'28px',fontWeight:'300'},children:\"Historial\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-shop-discounts\",children:[/*#__PURE__*/_jsx(\"p\",{style:{color:'#443280',fontSize:'33px',fontWeight:'800',textAlign:'right',marginBottom:'0'},children:\"Has ahorrado en tus compras $480\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#443280',fontSize:'13px',textAlign:'center'},children:\"Precio promedio * % descuento\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dashboard-shop-table\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"img\",{src:getImg(\"saxenda-50-off.png\"),alt:\"saxenda\",style:{maxWidth:'200px',marginRight:'2rem'},className:\"d-none d-md-block\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive mb-4\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{className:\"border-1\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Ubicaci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Ticket\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Fecha\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Art\\xEDculo\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Cantidad\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"border-1\",children:shops.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{index:index,children:[/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Servicios farmace\\xFAticos especializados\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Sucursal 1\"})]}),/*#__PURE__*/_jsx(\"td\",{children:\"4423363\"}),/*#__PURE__*/_jsx(\"td\",{children:item.InvoiceDate}),/*#__PURE__*/_jsx(\"td\",{children:item.ItemName}),/*#__PURE__*/_jsxs(\"td\",{children:[item.Units===1?/*#__PURE__*/_jsxs(\"p\",{children:[item.Units,\" caja\"]}):/*#__PURE__*/_jsxs(\"p\",{children:[item.Units,\" cajas\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[item.Discount,\"% descuento\"]})]})]});})})]})})]})]})});};","map":{"version":3,"names":["React","useEffect","useState","getImg","API","apiKey","MyShops","shops","setShops","getShops","fetch","method","body","JSON","stringify","cardnumber","key","response","status","json","result","balance","console","log","color","fontSize","fontWeight","textAlign","marginBottom","maxWidth","marginRight","map","item","index","InvoiceDate","ItemName","Units","Discount"],"sources":["/Users/luiseduardohernandezgranillo/Desktop/PROYECTOS/nuevoyo/nuevo-yo/src/components/sections/MyShops.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { getImg } from '../../helpers/getImg'\nimport { API, apiKey } from '../../helpers/getAPI';\n\nexport const MyShops = () => {\n\n    const [shops, setShops] = useState([]);\n\n    const getShops = async () => {\n        try {\n            const response = await fetch(API(\"getCardRecord\"), {\n                'headers': {\n                    'Access-Control-Allow-Origin': '*',\n                    'Content-Type': 'application/json'\n                },\n                method: \"POST\",\n                body: JSON.stringify({\n                    cardnumber: \"6601004280838\",\n                    key: apiKey,\n                })\n            });\n            if (response.status === 200) {\n                const result = await response.json();\n                setShops(result.balance)\n            }\n        } catch (error) {\n            console.log(error);\n        }\n    }\n    console.log(shops);\n\n    useEffect(() => {\n        getShops()\n    }, []);\n\n    return (\n        <div id=\"nav-shopping\" role=\"tabpanel\" aria-labelledby=\"nav-shopping-tab\">\n            <div className=\"dashboard-shop\">\n            <p style={{color: '#443280', fontSize: '28px', fontWeight: '300'}}>Historial</p>\n            <div className=\"dashboard-shop-discounts\">\n                <p style={{color: '#443280', fontSize: '33px', fontWeight: '800', textAlign: 'right', marginBottom: '0'}}>\n                Has ahorrado\n                en tus compras $480</p>\n                <p style={{color: '#443280', fontSize: '13px', textAlign: 'center'}}>Precio promedio * % descuento</p>\n            </div>\n\n            <div className=\"dashboard-shop-table\">\n                <div>\n                <img src={getImg(`saxenda-50-off.png`)} alt=\"saxenda\" style={{maxWidth: '200px', marginRight: '2rem'}}\n                    className=\"d-none d-md-block\"/>\n                </div>\n\n                <div className=\"table-responsive mb-4\">\n                <table>\n                    <thead className=\"border-1\">\n                    <tr>\n                        <th>Ubicación</th>\n                        <th>Ticket</th>\n                        <th>Fecha</th>\n                        <th>Artículo</th>\n                        <th>Cantidad</th>\n                    </tr>\n                    </thead>\n                    <tbody className=\"border-1\">\n                        {shops.map((item, index) => (\n                            <tr index={index}>\n                                <td>\n                                    <p>Servicios farmaceúticos especializados</p>\n                                    <p>Sucursal 1</p>\n                                </td>\n                                <td>4423363</td>\n                                <td>{item.InvoiceDate}</td>\n                                <td>{item.ItemName}</td>\n                                <td>\n                                    {item.Units === 1 ? (\n                                        <p>{item.Units} caja</p>\n                                    ) : (\n                                        <p>{item.Units} cajas</p>\n                                    )}\n                                    <p>{item.Discount}% descuento</p>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n                </div>\n            </div>\n            </div>\n        </div>\n    )\n}\n"],"mappings":"oeAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,MAAM,KAAQ,sBAAsB,CAC7C,OAASC,GAAG,CAAEC,MAAM,KAAQ,sBAAsB,CAAC,wFAEnD,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CAEzB,cAA0BJ,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,SAAQ,4FAAG,+LAEcC,MAAK,CAACN,GAAG,CAAC,eAAe,CAAC,CAAE,CAC/C,SAAS,CAAE,CACP,6BAA6B,CAAE,GAAG,CAClC,cAAc,CAAE,kBACpB,CAAC,CACDO,MAAM,CAAE,MAAM,CACdC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACjBC,UAAU,CAAE,eAAe,CAC3BC,GAAG,CAAEX,MACT,CAAC,CACL,CAAC,CAAC,QAVIY,QAAQ,oBAWVA,QAAQ,CAACC,MAAM,GAAK,GAAG,gDACFD,SAAQ,CAACE,IAAI,EAAE,QAA9BC,MAAM,eACZZ,QAAQ,CAACY,MAAM,CAACC,OAAO,CAAC,yFAG5BC,OAAO,CAACC,GAAG,aAAO,CAAC,qEAE1B,kBApBKd,SAAQ,0CAoBb,CACDa,OAAO,CAACC,GAAG,CAAChB,KAAK,CAAC,CAElBN,SAAS,CAAC,UAAM,CACZQ,QAAQ,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,YAAK,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,kBAAgB,kBAAkB,uBACrE,aAAK,SAAS,CAAC,gBAAgB,wBAC/B,UAAG,KAAK,CAAE,CAACe,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAE,uBAAc,cAChF,aAAK,SAAS,CAAC,0BAA0B,wBACrC,UAAG,KAAK,CAAE,CAACF,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEC,UAAU,CAAE,KAAK,CAAEC,SAAS,CAAE,OAAO,CAAEC,YAAY,CAAE,GAAG,CAAE,8CAElF,cACvB,UAAG,KAAK,CAAE,CAACJ,KAAK,CAAE,SAAS,CAAEC,QAAQ,CAAE,MAAM,CAAEE,SAAS,CAAE,QAAQ,CAAE,2CAAkC,GACpG,cAEN,aAAK,SAAS,CAAC,sBAAsB,wBACjC,kCACA,YAAK,GAAG,CAAExB,MAAM,sBAAuB,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAE,CAAC0B,QAAQ,CAAE,OAAO,CAAEC,WAAW,CAAE,MAAM,CAAE,CAClG,SAAS,CAAC,mBAAmB,EAAE,EAC7B,cAEN,YAAK,SAAS,CAAC,uBAAuB,uBACtC,sCACI,cAAO,SAAS,CAAC,UAAU,uBAC3B,mCACI,oCAAkB,cAClB,8BAAe,cACf,6BAAc,cACd,mCAAiB,cACjB,gCAAiB,GAChB,EACG,cACR,cAAO,SAAS,CAAC,UAAU,UACtBvB,KAAK,CAACwB,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,qBACnB,YAAI,KAAK,CAAEA,KAAM,wBACb,mCACI,gEAA6C,cAC7C,iCAAiB,GAChB,cACL,+BAAgB,cAChB,oBAAKD,IAAI,CAACE,WAAW,EAAM,cAC3B,oBAAKF,IAAI,CAACG,QAAQ,EAAM,cACxB,sBACKH,IAAI,CAACI,KAAK,GAAK,CAAC,cACb,qBAAIJ,IAAI,CAACI,KAAK,WAAU,cAExB,qBAAIJ,IAAI,CAACI,KAAK,YACjB,cACD,qBAAIJ,IAAI,CAACK,QAAQ,iBAAgB,GAChC,GACJ,EACR,CAAC,EACE,GACJ,EACF,GACJ,GACA,EACJ,CAEd,CAAC"},"metadata":{},"sourceType":"module"}